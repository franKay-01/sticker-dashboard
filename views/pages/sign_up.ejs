<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sign Up - Cyfa</title>

    <link rel="shortcut icon" type="image/x-icon" href="/public/assets/images/favicon.ico"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="/public/assets/css/foundation.min.css">

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/public/assets/vendor/slick/slick.css"/>
    <link rel="stylesheet" href="/public/assets/css/custom.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700,800,900" rel="stylesheet">
    <script type="text/javascript" src="/public/assets/js/val.js"></script>

    <!--parse js-->
    <script src="https://npmcdn.com/parse/dist/parse.js"></script>
    <script>
        (function() {
            var form = document.querySelector("form#sign_form");
            form.addEventListener("submit", function(ev) {
                ev.preventDefault();
                handleFormSubmit(form);
            });

            function handleFormSubmit(form,input) {
                var errors = validate(form, validator);
                // then we update the form to reflect the results
                showErrors(form, errors || {});
                if (!errors) {
                    showSuccess();
                }
            }

            function showErrorsForInput(input, errors) {
                // This is the root of the input
                var formGroup = closestParent(input.parentNode, "form-group")
                    // Find where the error messages will be insert into
                    , messages = formGroup.querySelector(".messages");
                // First we remove any old messages and resets the classes
                resetFormGroup(formGroup);
                // If we have errors
                if (errors) {
                    // we first mark the group has having errors
                    formGroup.classList.add("has-error");
                    // then we append all the errors
                    _.each(errors, function(error) {
                        addError(messages, error);
                    });
                } else {
                    // otherwise we simply mark it as success
                    formGroup.classList.add("has-success");
                }
            }

            function closestParent(child, className) {
                if (!child || child === document) {
                    return null;
                }
                if (child.classList.contains(className)) {
                    return child;
                } else {
                    return closestParent(child.parentNode, className);
                }
            }

            function resetFormGroup(formGroup) {
                // Remove the success and error classes
                formGroup.classList.remove("has-error");
                formGroup.classList.remove("has-success");
                // and remove any old messages
                _.each(formGroup.querySelectorAll(".help-block.error"), function(el) {
                    el.parentNode.removeChild(el);
                });
            }

            // Adds the specified error with the following markup
            // <p class="help-block error">[message]</p>
            function addError(messages, error) {
                var block = document.createElement("p");
                block.classList.add("help-block");
                block.classList.add("error");
                block.innerText = error;
                messages.appendChild(block);
            }

            function showSuccess() {
                // We made it \:D/
                alert("Success!");
            }

            function showErrors(form, errors) {
                // We loop through all the inputs and show the errors for that input
                _.each(form.querySelectorAll("input[name], select[name]"), function(input) {
                    // Since the errors can be null if no errors were found we need to handle
                    // that
                    showErrorsForInput(input, errors && errors[input.name]);
                });
            }

            var validator = {
                username: {
                    presence: true,
                    email: true
                },
                user_name:{
                    presence:true,

                },
                "confirm-password": {
                    // You need to confirm your password
                    presence: true,
                    // and it needs to be equal to the other password
                    equality: {
                        attribute: "password",
                        message: "^The passwords does not match"
                    }
                },
                password: {
                    // Password is also required
                    presence: true,
                    // And must be at least 5 characters long
                    length: {
                        minimum: 5
                    }
                }
            }

            })();
    </script>
</head>

<body class="primary-background-color">
<!-- Body -->

<div class="grid-container">
    <!-- Logo -->
    <div class="medium-12 large-12">
        <a href="/home">
            <img src="/public/assets/images/G_logo.png"
                 srcset="/public/assets/images/G_logo@2x.png 2x,/public/assets/images/G_logo@3x.png 3x" class="logo">
        </a>
    </div>
    <!-- End of logo-->
    <span class="medium-12 large-12 welcome_post"><b>Welcome to Publisher</b></span>
    <div class="row" style="width: 50%; background: whitesmoke">
        <form class="col s12" method="post" id="sign_form" action="/signup">
            <div class="row">
                <div class="input-field col s12">
                    <input style="margin-top: 30px;font-size: 2rem !important;" class="_signup_textbox" placeholder="Name"
                           type="text" tabindex="1" name="user_name" required>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input style="margin-top: 30px;font-size: 2rem !important;" class="_signup_textbox" placeholder="Email"
                           type="email" tabindex="1" name="username" required>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input style="margin-top: 30px;font-size: 2rem !important;" class="_signup_textbox" placeholder="Password"
                           type="password" tabindex="1" name="password" required>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input style="margin-top: 30px;font-size: 2rem !important;" class="_signup_textbox" placeholder="Password"
                           type="password" tabindex="1" id="confirm_password" name="confirm_password" required>
                </div>
            </div>
            <div class="row">
                <div class="col s12">
                    <input type="checkbox" id="test5" value="1" />&nbsp;I Aggree With <a href="#" style="color: #a46580 !important;">Agreement</a>
                </div>
            </div>
            <span id='message'></span>

            <div>
                <button name="login" type="submit" id="btnSign" data-submit="...Sending">Sign Up</button>
            </div>

        </form>
    </div>
    <!--<div class="grid-x grid-margin-x">-->
        <!--<div class="medium-3 large-3 cell login_card">-->
            <!-- Form to allow user login-->
            <!--<form action="/login" method="post">-->
                <!--<fieldset>-->
                    <!--<input style="margin-top: 30px;font-size: 2rem !important;" class="box" placeholder="Email"-->
                           <!--type="email" tabindex="1" name="username"><br>-->
                    <!--<input class="box" style="font-size: 2rem !important;" placeholder="Password" type="password"-->
                           <!--name="password" tabindex="2"><br>-->
                    <!--<button name="login" type="submit" id="btnLogin" data-submit="...Sending">Login</button>-->
                    <!--<br><br>-->
                    <!--<a href="/forgetPassword" class="forgotten_password">Forgot password?</a>-->
                    <!--<br><br>-->
                    <!--<a href="#" id="signUp" class="signup_text">Sign up here</a>-->
                <!--</fieldset>-->
            <!--</form>-->
            <!-- End of form-->
        <!--</div>-->
    <!--</div>-->
</div>

<!-- Body -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" type="application/javascript"/>
<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
<script type="text/javascript" src="/public/assets/vendor/slick/slick.min.js"></script>
<script type="text/javascript" src="/public/assets/js/custom.js">
</script>

</body>


</html>